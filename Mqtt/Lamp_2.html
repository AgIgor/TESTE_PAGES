<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LÃ¢mpada Animada</title>
  <style>
    :root{
      --bg:#0f1724;
      --panel:#0b1220;
      --muted:#9aa5b1;
      --accent:#ffd166;
      --lamp-off:#2b3742;
      --lamp-glow: rgba(255,209,102,0.14);
    }

    /* Light mode support */
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f8fb;
        --panel:#ffffff;
        --muted:#5b6b77;
        --accent:#ffb703;
        --lamp-off:#cbd5df;
        --lamp-glow: rgba(255,183,3,0.15);
      }
    }

    html,body{height:100%;}
    body{
      margin:0;display:flex;align-items:center;justify-content:center;
      font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: linear-gradient(180deg,var(--bg), #071021 120%);
      color:var(--muted);
      padding:24px;
    }

    .card{
      width:min(560px,96vw);
      background:linear-gradient(180deg,rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:16px; padding:28px; box-shadow:0 8px 30px rgba(2,6,23,0.6);
      display:grid; grid-template-columns:1fr 220px; gap:18px; align-items:center;
    }

    @media (max-width:600px){
      .card{grid-template-columns:1fr; padding:18px}
    }

    .stage{
      min-height:240px; display:flex;align-items:center;justify-content:center; position:relative;
    }

    /* LÃ¢mpada */
    .bulb-wrap{width:220px; max-width:42vw;}
    svg{display:block;width:100%;height:auto}

    .glow{
      position:absolute; left:50%; transform:translateX(-50%); top:18%;
      width:260px; height:260px; border-radius:50%; pointer-events:none; filter:blur(30px);
      transition:opacity .45s ease, transform .45s ease;
      opacity:0; mix-blend-mode:screen;
    }

    /* Switch card */
    .controls{display:flex;flex-direction:column;gap:14px;align-items:center}
    .label{font-weight:600;color:var(--muted);}

    .switch{
      --size:76px;
      width:var(--size); height:var(--size); border-radius:999px; background:linear-gradient(180deg,var(--panel), rgba(255,255,255,0.02));
      display:flex;align-items:center;justify-content:center; box-shadow:inset 0 -6px 12px rgba(0,0,0,0.35), 0 6px 18px rgba(2,6,23,0.6);
      cursor:pointer; position:relative; transition:transform .18s ease;
    }

    .knob{width:44px;height:44px;border-radius:50%;background:var(--lamp-off);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px rgba(2,6,23,0.5);transition:transform .25s cubic-bezier(.2,.9,.3,1), background .25s ease}

    .switch:active{transform:scale(.98)}

    /* estado ON */
    .on .knob{background:var(--accent)}
    .on .glow{opacity:1; transform:translateX(-50%) scale(1)}

    /* pequena animaÃ§Ã£o de piscada quando liga */
    @keyframes flicker{
      0%{opacity:0.92}
      5%{opacity:0.7}
      12%{opacity:1}
      20%{opacity:0.9}
      30%{opacity:1}
      100%{opacity:1}
    }

    .flicker{animation:flicker 700ms both}

    /* filament glow animation */
    @keyframes filamentPulse{
      0%{opacity:0.9; transform:translateY(0)}
      50%{opacity:1; transform:translateY(-1px)}
      100%{opacity:0.9; transform:translateY(0)}
    }

    .filament{transform-origin:center; transition:opacity .3s ease}
    .on .filament{animation:filamentPulse 900ms infinite}

    .hint{font-size:13px;color:var(--muted); text-align:center}

  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="stage">
      <div style="position:relative; width:100%; display:flex; align-items:center; justify-content:center;">
        <div class="glow" id="glow" style="background:radial-gradient(circle at 50% 35%, var(--lamp-glow), transparent 40%);"></div>
        <div class="bulb-wrap">
          <!-- SVG lÃ¢mpada simples com filamento animado -->
          <svg viewBox="0 0 200 360" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <defs>
              <filter id="softBlur"><feGaussianBlur stdDeviation="6" result="b"/></filter>
            </defs>
            <!-- vidro -->
            <g transform="translate(0,8)">
              <ellipse cx="100" cy="110" rx="64" ry="80" fill="rgba(255,255,255,0.02)"/>
              <path d="M60 90 C36 126 36 176 68 218 C92 252 108 252 132 218 C164 176 164 126 140 90 C132 74 120 60 100 60 C80 60 68 74 60 90 Z" fill="rgba(255,255,255,0.03)"/>
              <path id="glass" d="M60 90 C36 126 36 176 68 218 C92 252 108 252 132 218 C164 176 164 126 140 90 C132 74 120 60 100 60 C80 60 68 74 60 90 Z" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="2"/>

              <!-- filamento -->
              <g id="filament" class="filament" transform="translate(0,0)">
                <path d="M100 118 C98 128 86 138 86 148 C86 168 110 168 110 148 C110 138 100 128 100 118 Z" fill="none" stroke="rgba(255,160,40,0.95)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" opacity="0.0" />
                <path d="M86 148 C86 160 90 170 100 170 C110 170 114 160 114 148" fill="none" stroke="rgba(255,210,110,0.95)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" opacity="0.0"/>
              </g>

              <!-- soquete -->
              <rect x="72" y="220" width="56" height="40" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(0,0,0,0.2)"/>
              <rect x="78" y="240" width="44" height="24" rx="4" fill="rgba(0,0,0,0.15)"/>

              <!-- metal base rings -->
              <g transform="translate(72,262)">
                <rect x="-4" y="0" width="88" height="8" rx="3" fill="rgba(255,255,255,0.02)"/>
                <rect x="2" y="10" width="76" height="8" rx="3" fill="rgba(255,255,255,0.01)"/>
              </g>
            </g>
          </svg>
        </div>
      </div>
    </div>

    <div class="controls" id="controls">
      <div class="label">LÃ¢mpada</div>
      <div class="switch" id="switch" role="button" aria-pressed="false" tabindex="0" title="Ligar/Desligar">
        <div class="knob" id="knob" aria-hidden="true">ðŸ’¡</div>
      </div>
      <div class="hint">Toque ou pressione Enter/Space para alternar</div>
    </div>
  </div>

  <script>
    const card = document.getElementById('card');
    const sw = document.getElementById('switch');
    const knob = document.getElementById('knob');
    const glow = document.getElementById('glow');
    const filament = document.getElementById('filament');

    let isOn = false;

    function setState(on){
      isOn = !!on;
      if(isOn){
        card.classList.add('on');
        sw.classList.add('on');
        sw.setAttribute('aria-pressed','true');
        // animaÃ§Ã£o de ligar
        glow.classList.add('flicker');
        // aparecer filamento
        Array.from(filament.querySelectorAll('path')).forEach(p=>{p.style.opacity = 1});
        knob.textContent = 'ðŸ”†';
        setTimeout(()=>glow.classList.remove('flicker'), 900);
      } else {
        card.classList.remove('on');
        sw.classList.remove('on');
        sw.setAttribute('aria-pressed','false');
        Array.from(filament.querySelectorAll('path')).forEach(p=>{p.style.opacity = 0});
        knob.textContent = 'ðŸ’¡';
      }
    }

    // toggle on click / keyboard
    function toggle(){ setState(!isOn); }

    sw.addEventListener('click', toggle);
    sw.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); toggle(); } });

    // touch-friendly: toggle when long-press (mobile) or tap
    let touchStart = 0;
    sw.addEventListener('touchstart', ()=>{ touchStart = Date.now(); }, {passive:true});
    sw.addEventListener('touchend', ()=>{ if(Date.now()-touchStart < 400) toggle(); });

    // inicial: desligado
    setState(false);

    // Expose for debug in console
    window.lamp = {set:on=>setState(on), toggle};
  </script>
</body>
</html>
